<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Template" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="f33557b4-8855-4bf5-b73c-6a798e382634">
	<property name="ireport.zoom" value="1.2745232708414758"/>
	<property name="ireport.x" value="271"/>
	<property name="ireport.y" value="0"/>
	<style name="FBold" fill="Solid" hAlign="Left" vAlign="Top" fontName="TH SarabunPSK" fontSize="14" isBold="true" pdfFontName="THSarabun Bold.ttf" pdfEncoding="Identity-H"/>
	<style name="Rpt" fontName="TH SarabunPSK" fontSize="10" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
	<style name="Default" isDefault="true" fontName="TH SarabunPSK" fontSize="14" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
	<parameter name="PUBLISHER" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["พงศ์ปณต ทัศนียาชุมพาลี"]]></defaultValueExpression>
	</parameter>
	<parameter name="DATE_CURRENT" class="java.util.Date" isForPrompting="false">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="PLAN_NAME_START" class="java.lang.String">
		<parameterDescription><![CDATA["-"]]></parameterDescription>
		<defaultValueExpression><![CDATA["-"]]></defaultValueExpression>
	</parameter>
	<parameter name="PRODUCT_NAME" class="java.lang.String">
		<parameterDescription><![CDATA["-"]]></parameterDescription>
		<defaultValueExpression><![CDATA["-"]]></defaultValueExpression>
	</parameter>
	<parameter name="FACULTY_NAME" class="java.lang.String">
		<parameterDescription><![CDATA["-"]]></parameterDescription>
		<defaultValueExpression><![CDATA["-"]]></defaultValueExpression>
	</parameter>
	<parameter name="PERIOD_ID" class="java.lang.String">
		<defaultValueExpression><![CDATA["-"]]></defaultValueExpression>
	</parameter>
	<parameter name="HEAD_RPT" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["แบบรายละเอียดคำของบประมาณเงินเดือน \n ปีงบประมาณที่ขอตั้งงบประมาณ ( "+$P{PERIOD_ID}+" )"]]></defaultValueExpression>
	</parameter>
	<parameter name="PLAN_NAME_END" class="java.lang.String">
		<parameterDescription><![CDATA["-"]]></parameterDescription>
		<defaultValueExpression><![CDATA["-"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
	bgPlan.BUDGETPLANID as bgPlanId, bgPlan.BUDGETPLANNAME as bgPlanName,
	bgProject.BUDGETPROJECTID as bgProjectId, bgProject.BUDGETPROJECTNAME as bgProjectName,
	faculty.DEPARTMENTID as facultyId, faculty.DEPARTMENTNAME as facultyName,
	dept.DEPARTMENTID as deptId, dept.DEPARTMENTNAME as deptName,
	bgTypeMain.BUDGETTYPEID as bgTypeMainId, bgTypeMain.BUDGETTYPENAME as bgTypeMainName,
	bgType.BUDGETTYPEID as bgTypeId, bgType.BUDGETTYPENAME as bgTypeName,
	bg.POSITIONNAME as positionName, bg.RATENO as rateNo, bg.POSITIONVACANCY as vacancy, bg.POSITIONOCCUPIED as occupied,
	bg.SALARYPERMONTH as salaryMonth, bg.SALARYTOTAL as salaryTotal,
	bg.REMARK as remark
from BUDGETHEAD bgh
inner join BUDGET140 bg on bg.BUDGETHEADID = bgh.BUDGETHEADID
inner join L3D_PLAN l3dPlan on l3dPlan.PLANID = bgh.L3D_PLANID
inner join MAPPINGPLAN mapplan on mapplan.PLANID = bgh.L3D_PLANID
inner join BUDGETPROJECT bgProject on bgProject.BUDGETPROJECTID = mapplan.BUDGETPROJECTID
inner join BUDGETPLAN bgPlan on bgPlan.BUDGETPLANID = bgProject.BUDGETPLANID
inner join L3D_FUNDGROUP fundgroup on fundgroup.FUNDGROUPID = mapplan.FUNDGROUPID
inner join L3D_DEPARTMENT dept on dept.DEPARTMENTID = bgh.DEPARTMENTID
inner join L3D_DEPARTMENT faculty on faculty.DEPARTMENTID = dept.MASTERID
inner join BUDGETTYPE bgType on bgType.BUDGETTYPEID = bg.BUDGETTYPEID
inner join BUDGETTYPE bgTypeMain on bgTypeMain.BUDGETTYPEID = bgType.MASTERID
where bgh.FORMBUDGET = 140
and faculty.DEPARTMENTGROUP = 'A'
and bgh.BUDGETPERIODID = mapplan.BUDGETPERIODID
and bgh.FUNDGROUPID = mapplan.FUNDGROUPID
order by bgPlan.BUDGETPLANID, bgProject.BUDGETPROJECTID,
faculty.DEPARTMENTID, dept.DEPARTMENTID,
bgTypeMain.BUDGETTYPEID, bgType.BUDGETTYPEID]]>
	</queryString>
	<field name="bgPlanId" class="java.lang.Integer"/>
	<field name="bgPlanName" class="java.lang.String"/>
	<field name="bgProjectId" class="java.lang.Integer"/>
	<field name="bgProjectName" class="java.lang.String"/>
	<field name="facultyId" class="java.lang.Integer"/>
	<field name="facultyName" class="java.lang.String"/>
	<field name="deptId" class="java.lang.Integer"/>
	<field name="deptName" class="java.lang.String"/>
	<field name="bgTypeMainId" class="java.lang.Integer"/>
	<field name="bgTypeMainName" class="java.lang.String"/>
	<field name="bgTypeId" class="java.lang.Integer"/>
	<field name="bgTypeName" class="java.lang.String"/>
	<field name="positionName" class="java.lang.String"/>
	<field name="rateNo" class="java.lang.String"/>
	<field name="vacancy" class="java.lang.Integer"/>
	<field name="occupied" class="java.lang.Integer"/>
	<field name="salaryMonth" class="java.math.BigDecimal"/>
	<field name="salaryTotal" class="java.math.BigDecimal"/>
	<field name="remark" class="java.lang.String"/>
	<variable name="CURRENT_PAGE" class="java.lang.Integer" resetType="None" calculation="DistinctCount">
		<variableExpression><![CDATA[$V{PAGE_NUMBER}]]></variableExpression>
		<initialValueExpression><![CDATA[new Integer(1)]]></initialValueExpression>
	</variable>
	<variable name="CURRENT_DATE" class="java.util.Date">
		<variableExpression><![CDATA[new Date()]]></variableExpression>
		<initialValueExpression><![CDATA[new Date()]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="50" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement style="FBold" stretchType="RelativeToBandHeight" x="0" y="20" width="802" height="20" uuid="f46aee95-03fb-4f8c-a89b-2612b52f7647"/>
				<textElement textAlignment="Center">
					<font size="16"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{HEAD_RPT}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="FBold" x="1" y="0" width="801" height="20" uuid="43f82a38-dd35-49d8-bebb-da8764d5e942"/>
				<textElement textAlignment="Right">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA["แบบ ง.140"]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="150" splitType="Stretch">
			<staticText>
				<reportElement style="FBold" x="0" y="90" width="30" height="60" uuid="d2942672-0d74-4bf3-8dcd-40f78b768931"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[(1)
ลำดับ
ที่]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="0" y="0" width="340" height="20" uuid="08e97599-8d20-4e22-a2ff-c83d43b15afb"/>
				<text><![CDATA[มหาวิทยาลัยเทคโนโลยีพระจอมเกล้าพระนครเหนือ]]></text>
			</staticText>
			<textField>
				<reportElement x="62" y="20" width="278" height="20" uuid="d4341605-29e6-4036-b38a-3e960a35a635"/>
				<box>
					<bottomPen lineWidth="1.25" lineStyle="Dotted"/>
				</box>
				<textFieldExpression><![CDATA[$P{PLAN_NAME_START}+" - "+$P{PLAN_NAME_END}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="62" y="40" width="278" height="20" uuid="9628745f-3384-4943-a9df-dd81f3402690"/>
				<box>
					<bottomPen lineWidth="1.25" lineStyle="Dotted"/>
				</box>
				<textFieldExpression><![CDATA[$P{FACULTY_NAME}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="FBold" x="1" y="20" width="61" height="20" uuid="c2653869-37eb-4f26-a995-cab30ba06227"/>
				<text><![CDATA[แผนงาน]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="1" y="40" width="61" height="20" uuid="985c2ce8-6705-4d37-897a-b450d792d786"/>
				<text><![CDATA[หน่วยงาน]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="30" y="90" width="182" height="60" uuid="23f2a27a-4622-4bfb-a06a-7dfd7ca4b2f7"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[(2)
ชื่อตำแหน่ง]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="212" y="110" width="70" height="40" uuid="1f278612-5abf-4c75-97c9-e920379f7866"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[ระดับ]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="282" y="110" width="70" height="40" uuid="f1dd20a0-ecb3-4e33-81c4-7d88431d983d"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[อัตราเงินเดือน]]></text>
			</staticText>
			<textField>
				<reportElement style="FBold" x="212" y="90" width="400" height="20" uuid="657d7a55-7eb7-4fef-a77c-09fa06170cce"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA["(3) อัตราเงินเดือน (ตามบัญชีถือจ่าย ณ ต.ค. 57)"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="FBold" x="352" y="110" width="160" height="20" uuid="77eef685-020e-426d-b255-c88179769ff6"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[จำนวนอัตรา]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="352" y="130" width="80" height="20" uuid="c7bc8774-8742-441c-9284-d2cb595a3125"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[มีคนครอง]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="432" y="130" width="80" height="20" uuid="8d79d0ff-d658-4347-af3b-d8d11f56a502"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[อัตราว่าง]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="512" y="110" width="100" height="40" uuid="dfd9b3ac-c8e7-4071-a07f-1385d89062c3"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[จำนวนเงินทั้งปี]]></text>
			</staticText>
			<staticText>
				<reportElement style="FBold" x="612" y="90" width="190" height="60" uuid="591b96a9-e9f2-477e-8846-541a7636033e"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[(4)
คำชี้แจง]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Prevent">
			<printWhenExpression><![CDATA[$P{REPORT_MAX_COUNT}>0]]></printWhenExpression>
			<textField isStretchWithOverflow="true">
				<reportElement style="Default" stretchType="RelativeToBandHeight" x="30" y="0" width="182" height="20" uuid="130a3b9a-92c8-4a6a-bea4-a5c8b8449341"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{positionName}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement style="Default" stretchType="RelativeToBandHeight" x="212" y="0" width="70" height="20" uuid="bd4bf828-6b91-45e3-b7df-3a857775c153"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Left">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{rateNo}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,###">
				<reportElement style="Default" stretchType="RelativeToBandHeight" x="282" y="0" width="70" height="20" uuid="77869fc2-d26a-4154-a567-71fbd2154464"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{salaryMonth} == 0 || $F{salaryMonth} == null)? "-":$F{salaryMonth}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,###">
				<reportElement style="Default" stretchType="RelativeToBandHeight" x="432" y="0" width="80" height="20" uuid="f2c01041-0baa-458c-ac12-ca15a512cc6d"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{vacancy} == 0 || $F{vacancy} == null)? "-":$F{vacancy}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,###">
				<reportElement style="Default" stretchType="RelativeToBandHeight" x="352" y="0" width="80" height="20" uuid="c387d3e2-206e-4ef1-9247-a92092585960"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{occupied} == 0 || $F{occupied} == null)? "-":$F{occupied}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,###">
				<reportElement style="Default" stretchType="RelativeToBandHeight" x="512" y="0" width="100" height="20" uuid="cb050b11-cd77-4ce5-9f57-10342e0d441a"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{salaryTotal} == 0 || $F{salaryTotal} == null)? "-":$F{salaryTotal}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement style="Default" stretchType="RelativeToBandHeight" x="0" y="0" width="30" height="20" uuid="0539a3c0-b5ba-4bed-b4ec-a11998cade19"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
			</textField>
			<frame>
				<reportElement stretchType="RelativeToBandHeight" x="612" y="0" width="190" height="20" uuid="48a54938-c788-4032-93e9-b4c5f4539a64"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.75"/>
				</box>
				<textField isStretchWithOverflow="true">
					<reportElement style="Default" stretchType="RelativeToBandHeight" x="0" y="0" width="190" height="20" uuid="1802738c-2a17-4599-bd04-11d304e3ba1b"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement markup="html">
						<font size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[""+$F{remark}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="32" splitType="Stretch">
			<textField pattern="dd/MM/yyyy HH:mm:ss">
				<reportElement x="0" y="20" width="432" height="12" uuid="6c13bc20-06bd-4a29-b6b1-b74bcef75220"/>
				<textElement verticalAlignment="Bottom">
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA["วันที่พิมพ์ : "+$V{CURRENT_DATE}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="432" y="20" width="370" height="12" uuid="3d9b8270-5888-4ff3-9d71-e474fc8232c9"/>
				<textElement textAlignment="Right">
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA["พิมพ์โดย : "+$P{PUBLISHER}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Auto">
				<reportElement x="612" y="0" width="190" height="20" uuid="ee0781eb-6d01-41e0-9ce8-38a0c8f51947"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA["หน้า " + $V{CURRENT_PAGE}+" / " +$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
